{"version":3,"sources":["../../server/controller/FileController.js"],"names":["path","require","fs","filePath","join","__dirname","getFileData","req","res","readFileData","then","data","send","filedata","catch","err","message","storeFileData","body","appendFile","postData","Promise","resolve","reject","readFile","module","exports"],"mappings":";;AACA,IAAIA,OAAOC,QAAQ,MAAR,CAAX;AACA,IAAIC,KAAKD,QAAQ,IAAR,CAAT;AACA,IAAIE,WAAYH,KAAKI,IAAL,CAAUC,SAAV,EAAqB,uBAArB,CAAhB;;AAEA,SAASC,WAAT,CAAqBC,GAArB,EAA0BC,GAA1B,EAA+B;AAC3BC,iBAAaN,QAAb,EAAuBO,IAAvB,CAA4B,UAACC,IAAD,EAAU;AAClCH,YAAII,IAAJ,CAAS,EAACC,UAAWF,IAAZ,EAAT;AACH,KAFD,EAEGG,KAFH,CAES,UAACC,GAAD,EAAS;AACdP,YAAII,IAAJ,CAAS,EAACI,SAAS,wBAAV,EAAT;AACH,KAJD;AAKH;;AAED,SAASC,aAAT,CAAuBV,GAAvB,EAA4BC,GAA5B,EAAiC;AAC7B,QAAIU,OAAOX,IAAIW,IAAf;AACAhB,OAAGiB,UAAH,CAAchB,QAAd,EAAwBe,KAAKP,IAA7B,EAAmC,UAASI,GAAT,EAAcJ,IAAd,EAAoB;AACnD,YAAGI,GAAH,EAAQ;AACJP,gBAAII,IAAJ,CAAS,EAACI,SAAU,wBAAX,EAAT;AACH;;AAEDP,qBAAaN,QAAb,EAAuBO,IAAvB,CAA4B,UAACC,IAAD,EAAU;AAClCH,gBAAII,IAAJ,CAAS,EAACC,UAAWF,IAAZ,EAAkBS,UAAUF,KAAKP,IAAjC,EAAT;AACH,SAFD,EAEGG,KAFH,CAES,UAACC,GAAD,EAAS;AACdP,gBAAII,IAAJ,CAAS,EAACI,SAAS,wBAAV,EAAT;AACH,SAJD;AAKH,KAVD;AAWH;;AAED,SAASP,YAAT,CAAsBN,QAAtB,EAAgC;AAC5B,WAAO,IAAIkB,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpC,YAAGpB,QAAH,EAAa;AACTD,eAAGsB,QAAH,CAAYrB,QAAZ,EAAsB,MAAtB,EAA8B,UAACY,GAAD,EAAMJ,IAAN,EAAe;AACzC,oBAAGI,GAAH,EAAQ;AACJQ,2BAAO,IAAP;AACH;AACDD,wBAAQX,IAAR;AACH,aALD;AAMH,SAPD,MAOO;AACHY,mBAAO,IAAP;AACH;AACJ,KAXM,CAAP;AAYH;;AAGDE,OAAOC,OAAP,GAAiB,EAACpB,wBAAD,EAAcW,4BAAd,EAAjB","file":"FileController.js","sourcesContent":["\nvar path = require('path');\nvar fs = require('fs');\nlet filePath =  path.join(__dirname, '../../public/data.txt');\n\nfunction getFileData(req, res) {\n    readFileData(filePath).then((data) => {\n        res.send({filedata : data});\n    }).catch((err) => {\n        res.send({message: \"Something went worng!!\"});\n    });\n}\n\nfunction storeFileData(req, res) {\n    let body = req.body;\n    fs.appendFile(filePath, body.data, function(err, data) {\n        if(err) {\n            res.send({message : \"Something went wrong!!\"});    \n        }\n\n        readFileData(filePath).then((data) => {\n            res.send({filedata : data, postData: body.data});\n        }).catch((err) => {\n            res.send({message: \"Something went worng!!\"});\n        });\n    });\n}\n\nfunction readFileData(filePath) {\n    return new Promise((resolve, reject) => {\n        if(filePath) {\n            fs.readFile(filePath, 'utf8', (err, data) => {\n                if(err) {\n                    reject(null);\n                }\n                resolve(data);    \n            });\n        } else {\n            reject(null);\n        }\n    });\n}\n\n\nmodule.exports = {getFileData, storeFileData};"]}