{"version":3,"sources":["../../server/model/movie.js"],"names":["mongoose","require","Schema","MovieSchema","title","type","String","required","author","writer","year","Number","time","min","createdAt","Date","default","now","versionKey","pre","next","module","exports","model"],"mappings":";;AAAA,IAAIA,WAAWC,QAAQ,UAAR,CAAf;AACA,IAAIC,SAASF,SAASE,MAAtB;;AAEA;AACA,IAAIC,cAAc,IAAID,MAAJ,CAChB;AACEE,SAAO,EAAEC,MAAMC,MAAR,EAAgBC,UAAU,IAA1B,EADT;AAEEC,UAAQ,EAAEH,MAAMC,MAAR,EAAgBC,UAAU,IAA1B,EAFV;AAGEE,UAAQ,EAAEJ,MAAMC,MAAR,EAAgBC,UAAU,IAA1B,EAHV;AAIEG,QAAM,EAAEL,MAAMM,MAAR,EAAgBJ,UAAU,IAA1B,EAJR;AAKEK,QAAM,EAAEP,MAAMM,MAAR,EAAgBJ,UAAU,IAA1B,EAAgCM,KAAK,CAArC,EALR;AAMEC,aAAW,EAAET,MAAMU,IAAR,EAAcC,SAASD,KAAKE,GAA5B;AANb,CADgB,EAShB;AACEC,cAAY;AADd,CATgB,CAAlB;;AAcA;AACAf,YAAYgB,GAAZ,CAAgB,MAAhB,EAAwB,UAASC,IAAT,EAAgB;AACtC,MAAIH,MAAM,IAAIF,IAAJ,EAAV;AACA,MAAG,CAAC,KAAKD,SAAT,EAAoB;AAClB,SAAKA,SAAL,GAAiBG,GAAjB;AACD;AACDG;AACD,CAND;;AAQA;AACAC,OAAOC,OAAP,GAAiBtB,SAASuB,KAAT,CAAe,OAAf,EAAwBpB,WAAxB,CAAjB","file":"movie.js","sourcesContent":["let mongoose = require('mongoose');\nlet Schema = mongoose.Schema;\n\n//movie schema definition\nlet MovieSchema = new Schema(\n  {\n    title: { type: String, required: true },\n    author: { type: String, required: true },\n    writer: { type: String, required: true },\n    year: { type: Number, required: true },\n    time: { type: Number, required: true, min: 1 },\n    createdAt: { type: Date, default: Date.now },    \n  }, \n  { \n    versionKey: false\n  }\n);\n\n// Sets the createdAt parameter equal to the current time\nMovieSchema.pre('save', function(next)  {\n  let now = new Date();\n  if(!this.createdAt) {\n    this.createdAt = now;\n  }\n  next();\n});\n\n//Exports the MovieSchema for use elsewhere.\nmodule.exports = mongoose.model('movie', MovieSchema);"]}